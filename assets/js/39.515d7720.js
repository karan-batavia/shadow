(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{318:function(n,t,a){"use strict";a.r(t);var s=a(14),e=Object(s.a)({},(function(){var n=this,t=n._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[t("h1",{attrs:{id:"publishing-shadow-jars"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#publishing-shadow-jars"}},[n._v("#")]),n._v(" Publishing Shadow JARs")]),n._v(" "),t("h2",{attrs:{id:"publishing-with-maven-publish-plugin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#publishing-with-maven-publish-plugin"}},[n._v("#")]),n._v(" Publishing with Maven-Publish Plugin")]),n._v(" "),t("p",[n._v("The Shadow plugin will automatically configure the necessary tasks in the presence of Gradle's\n"),t("code",[n._v("maven-publish")]),n._v(" plugin.\nThe plugin provides the "),t("code",[n._v("component")]),n._v(" method from the "),t("code",[n._v("shadow")]),n._v(" extension to configure the\npublication with the necessary artifact and dependencies in the POM file.")]),n._v(" "),t("div",{staticClass:"language-groovy extra-class"},[t("pre",{pre:!0,attrs:{class:"language-groovy"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// Publishing a Shadow JAR with the Maven-Publish Plugin")]),n._v("\napply plugin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(":")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[n._v("'java'")]),n._v("\napply plugin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(":")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[n._v("'maven-publish'")]),n._v("\napply plugin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(":")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[n._v("'com.gradleup.shadow'")]),n._v("\n\npublishing "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("{")]),n._v("\n  publications "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("{")]),n._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("shadow")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("(")]),n._v("MavenPublication"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(")")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("{")]),n._v(" publication "),t("span",{pre:!0,attrs:{class:"token operator"}},[n._v("->")]),n._v("\n      project"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(".")]),n._v("shadow"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("component")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("(")]),n._v("publication"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(")")]),n._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("}")]),n._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("}")]),n._v("\n  repositories "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("{")]),n._v("\n    maven "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("{")]),n._v("\n      url "),t("span",{pre:!0,attrs:{class:"token interpolation-string"}},[t("span",{pre:!0,attrs:{class:"token string"}},[n._v('"http://repo.myorg.com"')])]),n._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("}")]),n._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("}")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("}")]),n._v("\n")])])]),t("h2",{attrs:{id:"shadow-configuration-and-publishing"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shadow-configuration-and-publishing"}},[n._v("#")]),n._v(" Shadow Configuration and Publishing")]),n._v(" "),t("p",[n._v("The Shadow plugin provides a custom configuration ("),t("code",[n._v("configurations.shadow")]),n._v(") to specify\nruntime dependencies that are "),t("strong",[n._v("not")]),n._v(" merged into the final JAR file.\nWhen configuring publishing with the Shadow plugin, the dependencies in the "),t("code",[n._v("shadow")]),n._v("\nconfiguration, are translated to become "),t("code",[n._v("RUNTIME")]),n._v(" scoped dependencies of the\npublished artifact.")]),n._v(" "),t("p",[n._v("No other dependencies are automatically configured for inclusion in the POM file.\nFor example, excluded dependencies are "),t("strong",[n._v("not")]),n._v(" automatically added to the POM file or\nif the configuration for merging are modified by specifying\n"),t("code",[n._v("shadowJar.configurations = [configurations.myconfiguration]")]),n._v(", there is no automatic\nconfiguration of the POM file.")]),n._v(" "),t("p",[n._v("This automatic configuration occurs "),t("em",[n._v("only")]),n._v(" when using the above methods for\nconfiguring publishing. If this behavior is not desirable, then publishing "),t("strong",[n._v("must")]),n._v("\nbe manually configured.")])])}),[],!1,null,null,null);t.default=e.exports}}]);